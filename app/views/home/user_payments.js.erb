book_table = document.getElementById('leUserBooks');
while (book_table.firstChild) {
    book_table.removeChild(book_table.firstChild);
}

<% unless @payments.nil? %>
    <% @payments.each do |payment| %>
        book_table.insertAdjacentHTML("beforeend","<%= escape_javascript render "home/user_payments", payment: payment %>")
    <% end %>
<% end %>